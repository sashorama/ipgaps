import ipaddress

str_mtel_networks = ("5.53.128.0/17",
                     "37.63.0.0/17",
                     "37.130.240.0/21",
                     "46.232.152.0/21",
                     "46.238.0.0/18",
                     "62.204.128.0/19",
                     "62.221.128.0/19",
                     "77.70.0.0/17",
                     "77.236.160.0/19",
                     "77.244.192.0/20",
                     "78.83.0.0/16",
                     "78.90.0.0/16",
                     "80.253.48.0/20",
                     "82.103.64.0/18",
                     "82.147.128.0/19",
                     "83.97.24.0/21",
                     "84.242.128.0/18",
                     "84.252.0.0/18",
                     "85.91.128.0/19",
                     "85.118.64.0/19",
                     "85.130.0.0/17",
                     "85.196.128.0/18",
                     "87.97.128.0/17",
                     "87.227.128.0/17",
                     "88.203.128.0/17",
                     "89.186.200.0/21",
                     "89.190.192.0/19",
                     "89.215.0.0/16",
                     "89.253.128.0/18",
                     "92.247.0.0/16",
                     "95.111.0.0/17",
                     "95.140.208.0/20",
                     "130.204.0.0/16",
                     "151.251.0.0/16",
                     "176.12.0.0/18",
                     "176.222.0.0/20",
                     "185.151.156.0/22",
                     "185.224.160.0/22",
                     "194.187.132.0/22",
                     "195.24.32.0/19",
                     "195.34.96.0/19",
                     "195.149.248.0/21",
                     "212.36.0.0/19",
                     "212.50.0.0/19",
                     "212.91.160.0/19",
                     "212.95.160.0/19",
                     "212.104.96.0/19",
                     "213.169.32.0/19",
                     "213.191.160.0/19",
                     "213.222.32.0/19",
                     "213.226.0.0/18",
                     "213.240.192.0/18",
                     "217.9.224.0/20",
                     "217.10.240.0/20",
                     "217.18.240.0/20",
                     "217.79.32.0/20"
                     );

def total_class_c(pref_stat):
    total_class_c_n = 0
    for prefix in pref_stat:
        total_class_c_n = total_class_c_n+pref_stat[prefix]*(2**(24-prefix))
    return total_class_c_n


input_file = 'mtel_free_networks.txt'
f_in = open(input_file, "r")
min_prefix_len = 24;
usedip=0
totalip=0
freeip=0
pref_stat  = {24: 0, 23: 0, 22: 0, 21:0, 20:0, 19:0, 18:0, 17:0 }
for line in f_in:
    # noinspection PyInterpreter

    prefix = ipaddress.ip_network(line.rstrip())
    if (prefix.prefixlen <= 24):
     pref_stat[prefix.prefixlen] = pref_stat[prefix.prefixlen]+1

print(pref_stat)
print(total_class_c(pref_stat))
#for net in str_mtel_networks:
 #   totalip = totalip + ipaddress.ip_network(net.rstrip()).num_addresses

